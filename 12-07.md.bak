# Домашнее задание к занятию 12.7 "Репликация и масштабирование. Часть 2"
Домашнее задание выполните в Google Docs и отправьте в личном кабинете на проверку ссылку на ваш документ.

Название файла должно содержать номер лекции и фамилию студента. Пример названия: "12.7 "Репликация и масштабирование. Часть 2 - Александр Александров"

Перед тем как выслать ссылку, убедитесь, что ее содержимое не является приватным (открыто на просмотр всем, у кого есть ссылка). Если необходимо прикрепить дополнительные ссылки, просто добавьте их в свой Google Docs.

Любые вопросы по решению задач задавайте в чате учебной группы.

---

### Задание 1.

Опишите основные преимущества использования масштабирования методами:

- активный master-сервер и пассивный репликационный slave-сервер, 
- master-сервер и несколько slave-серверов, 
- активный сервер со специальным механизмом репликации – distributed replicated block device (DRBD), 
- SAN-кластер.

1) В этом подходе выделяется один основной сервер базы данных, который называется Мастером. На нем происходят все изменения в данных. Слейв сервер постоянно копирует все изменения с Мастера. С приложения на Слейв сервер отправляются запросы чтения данных (запросы SELECT). Таким образом Мастер сервер отвечает за изменения данных, а Слейв за чтение.
2) Преимущество этого типа репликации в том, что Вы можете использовать более одного Слейва. Обычно следует использовать не более 20 Слейв серверов при работе с одним Мастером.
3) Поддерживает как синхронную, так и асинхронную репликацию. Также поддерживается промежуточный протокол, при котором запись считается успешной, если она завершилась на локальное устройство, и удалённый узел подтвердил получение данных. Синхронизация идёт через протокол TCP.
4) Упрощает администрирование и добавляет изрядную гибкость, поскольку кабели и дисковые массивы не нужно физически транспортировать и перекоммутировать от одного сервера к другому. Другим преимуществом является возможность загружать сервера прямо из сети хранения.

*Дайте ответ в свободной форме.*

---

### Задание 2.


Разработайте план для выполнения горизонтального и вертикального шаринга базы данных. База данных состоит из трех таблиц: 

- пользователи, 
- книги, 
- магазины (столбцы произвольно). 

Опишите принципы построения системы и их разграничение или (и) разбивку между базами данных.

Вертикальный шардинг
<a href="https://postimg.cc/mzkxvx3v"><img src="https://i.postimg.cc/pTY2nRmL/photo-2022-09-26-18-08-50.jpg" alt="2-1" border="0"></a>

Горизонтальный шардинг
<a href="https://postimg.cc/9rtxY8ZZ"><img src="https://i.postimg.cc/ZKX1ZXq7/photo-2022-09-26-18-08-48.jpg" alt="2-1" border="0"></a>
*Пришлите блок схему, где и что будет располагатся. Опишите, в каких режимах будут работать сервера.* 

## Дополнительные задания (со звездочкой*)

Эти задания дополнительные (не обязательные к выполнению) и никак не повлияют на получение вами зачета по этому домашнему заданию. Вы можете их выполнить, если хотите глубже и/или шире разобраться в материале.

---
### Задание 3*.

Выполните настройку выбранных методов шардинга из задания 2.

*Пришлите конфиг docker и sql скрипт с командами для базы данных*
